### VariÃ¡veis
@baseUrl = http://localhost:{{$dotenv PORT}}
@roomName = Sala de Teste REST Client
@roomNameUpdate = Sala Atualizada
@roomId = {{createRoom.response.body.id}}

### 1. ğŸ“‹ Listar todas as salas
# @name getAllRooms
GET {{baseUrl}}/room
Accept: application/json

###

### 2. â• Criar uma nova sala
# @name createRoom
POST {{baseUrl}}/room
Content-Type: application/json

{
  "name": "{{roomName}}"
}

###

### 3. ğŸ” Buscar sala especÃ­fica (usar ID da sala criada acima)
# @name getRoom
GET {{baseUrl}}/room/{{roomId}}
Accept: application/json

###

### 4. ğŸ’¬ Buscar mensagens de uma sala especÃ­fica
# @name getRoomMessages  
GET {{baseUrl}}/room/{{roomId}}/messages
Accept: application/json

###

### 5. ğŸ‘¥ Buscar participantes de uma sala especÃ­fica
# @name getRoomParticipants
GET {{baseUrl}}/room/{{roomId}}/participants
Accept: application/json

###

### 6. ğŸ—‘ï¸ Deletar uma sala especÃ­fica
# @name deleteRoom
DELETE {{baseUrl}}/room/{{roomId}}
Accept: application/json

###

###############################################
# ğŸ§ª TESTES ESPECÃFICOS
###############################################

### 7. âŒ Tentar criar sala sem nome (deve retornar erro 400)
# @name createRoomWithoutName
POST {{baseUrl}}/room
Content-Type: application/json

{
  "name": ""
}

###

### 8. âŒ Tentar buscar sala inexistente (deve retornar erro 404)
# @name getRoomNotFound
GET {{baseUrl}}/room/sala-inexistente-123
Accept: application/json

###

### 9. âŒ Tentar deletar sala inexistente (deve retornar erro 404)
# @name deleteRoomNotFound
DELETE {{baseUrl}}/room/sala-inexistente-123
Accept: application/json

###

### 10. âŒ Tentar buscar mensagens de sala inexistente (deve retornar erro 404)
# @name getRoomMessagesNotFound
GET {{baseUrl}}/room/sala-inexistente-123/messages
Accept: application/json

###

### 11. âŒ Tentar buscar participantes de sala inexistente (deve retornar erro 404)
# @name getRoomParticipantsNotFound
GET {{baseUrl}}/room/sala-inexistente-123/participants
Accept: application/json

###

###############################################
# ğŸš€ FLUXO COMPLETO DE TESTE
###############################################

### 12. ğŸ”„ Criar mÃºltiplas salas para teste
# @name createTestRoom1
POST {{baseUrl}}/room
Content-Type: application/json

{
  "name": "Sala de Chat Geral"
}

###

# @name createTestRoom2
POST {{baseUrl}}/room
Content-Type: application/json

{
  "name": "Sala de Desenvolvedores"
}

###

# @name createTestRoom3
POST {{baseUrl}}/room
Content-Type: application/json

{
  "name": "Sala de Suporte"
}

###

### 13. ğŸ“Š Verificar todas as salas apÃ³s criaÃ§Ã£o
# @name getAllRoomsAfterCreation
GET {{baseUrl}}/room
Accept: application/json

###

###############################################
# ğŸ¯ TESTES COM IDs ESPECÃFICOS
###############################################

### 14. ğŸ†” Usar ID especÃ­fico para testes (substitua pelo ID real)
@specificRoomId = room_1234567890_abcdef123

### Buscar sala com ID especÃ­fico
GET {{baseUrl}}/room/{{specificRoomId}}
Accept: application/json

###

### Buscar mensagens da sala especÃ­fica
GET {{baseUrl}}/room/{{specificRoomId}}/messages
Accept: application/json

###

### Buscar participantes da sala especÃ­fica
GET {{baseUrl}}/room/{{specificRoomId}}/participants
Accept: application/json

###

### Deletar sala especÃ­fica
DELETE {{baseUrl}}/room/{{specificRoomId}}
Accept: application/json

###

###############################################
# ğŸŒ TESTE DA PÃGINA WEB
###############################################

### 15. ğŸ–¥ï¸ Acessar pÃ¡gina de teste (deve retornar HTML)
# @name getTestPage
GET {{baseUrl}}/tests/rooms
Accept: text/html

###

###############################################
# ğŸ“ DOCUMENTAÃ‡ÃƒO DE USO
###############################################

# Como usar este arquivo:
# 
# 1. Certifique-se de que o servidor NestJS estÃ¡ rodando na porta 3000
# 2. Execute as requisiÃ§Ãµes na ordem para testar o fluxo completo
# 3. A variÃ¡vel {{roomId}} serÃ¡ automaticamente preenchida apÃ³s criar uma sala
# 4. Para usar IDs especÃ­ficos, atualize a variÃ¡vel @specificRoomId
# 5. Monitore os logs do servidor para ver as aÃ§Ãµes em tempo real
#
# Endpoints disponÃ­veis:
# - GET    /room                    â†’ Listar todas as salas
# - POST   /room                    â†’ Criar nova sala
# - GET    /room/:id                â†’ Buscar sala especÃ­fica
# - DELETE /room/:id                â†’ Deletar sala
# - GET    /room/:id/messages       â†’ Buscar mensagens da sala
# - GET    /room/:id/participants   â†’ Buscar participantes da sala
# - GET    /tests/rooms             â†’ PÃ¡gina de teste WebSocket
#
# WebSocket namespace: /room
# - Eventos: joinRoom, leaveRoom, sendMessage, getRoomInfo
# - Para testar WebSocket, use a pÃ¡gina: http://localhost:3000/tests/rooms
